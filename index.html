<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Christmas Hunt</title>
<style>
  body {
    background:#0d0d0d;
    color:#eee;
    font-family: monospace;
    padding:40px;
  }
  .step {
    border:1px solid #333;
    padding:20px;
    max-width:600px;
    margin-bottom:30px;
  }
  .locked {
    opacity:0.3;
    pointer-events:none;
  }
  input {
    padding:6px;
    width:240px;
  }
  button {
    margin-left:8px;
  }
  .hint {
    display:none;
    color:#aaa;
    margin-top:10px;
  }
</style>
</head>
<body>

<h1>ðŸŽ„ Christmas Hunt</h1>

<!-- STEP 4 -->
<div class="step" id="step4">
  <h2>Step 4</h2>
  <p>Time stopped here.</p>

  <input id="yearInput" placeholder="answer">
  <button onclick="checkYear()">Submit</button>
  <button onclick="showHint('hint4')">Hint</button>

  <div class="hint" id="hint4">
    When?
  </div>
</div>

<!-- STEP 5 -->
<div class="step locked" id="step5">
  <h2>Step 5</h2>
  <p>39th leader</p>

  <input id="step5Input" placeholder="answer">
  <button onclick="checkStep5()">Submit</button>
  <button onclick="showHint('hint5')">Hint</button>

  <div class="hint" id="hint5">
    Atleast I won the Nobel Prize in 2002.
  </div>
</div>

<!-- STEP 6 -->
<div class="step locked" id="step6">
  <h2>Step 6</h2>
  <p>We really need a fix version so we can close this one</p>
  <p>
    <a target="_blank" id="ytLink" href="#">â–¶ Watch the broadcast</a>
  </p>

  <input id="step6Input" placeholder="enter the code from broadcast">
  <button onclick="checkStep6()">Submit</button>
  <button onclick="showHint('hint6')">Hint</button>

  <div class="hint" id="hint6">
    SWSCENXTST-
  </div>
</div>

<!-- STEP 7 -->
<div class="step locked" id="step7">
  <h2>Step 7</h2>
  <p>I hope someone is going to fix this in the future, but who?</p>
  <p><code>iÄ§ âˆ‚Ïˆ(x,t)/âˆ‚t = - (Ä§Â² / 2m) âˆ‚Â²Ïˆ(x,t)/âˆ‚xÂ² + V(x)Ïˆ(x,t)</code></p>

  <input id="step7Input" placeholder="answer">
  <button onclick="checkStep7()">Submit</button>
  <button onclick="showHint('hint7')">Hint</button>

  <div class="hint" id="hint7">
    SchrÃ¶dinger
  </div>
</div>
  
<script>
function showHint(id){
  document.getElementById(id).style.display = "block";
}

function unlock(id){
  document.getElementById(id).classList.remove("locked");
}

async function sha256(str){
  const buf = new TextEncoder().encode(str);
  const hash = await crypto.subtle.digest("SHA-256", buf);
  return [...new Uint8Array(hash)]
    .map(b => b.toString(16).padStart(2,"0"))
    .join("");
}

/* STEP 4 CHECK */
async function checkYear(){
  const input = yearInput.value.trim();
  const h = await sha256(input);

  if(h === "4c3aada37cf7fd3819b2da502a15f78f7ce5a2ce6d584b630344ff00dffc74ac"){
    unlock("step5");
    document.body.insertAdjacentHTML(
      "beforeend",
      "<p>âœ“ Step 4 complete. Proceed to Step 5.</p>"
    );
  }
}

/* STEP 5 CHECK */
async function checkStep5(){
  const input = step5Input.value.trim().toUpperCase();
  const h = await sha256(input);
  if(h === "7030e079131fa00df2d4c5a5f6952ce58cb8defb7c01f6769e69669e5ab7aad9"){ 
    unlock("step6");
    document.getElementById("ytLink").href = "https://youtu.be/-S0kCUDyBQ4";
    document.body.insertAdjacentHTML(
      "beforeend",
      "<p>âœ“ Step 5 complete. Watch the broadcast and enter the code in Step 6.</p>"
    );
  }
}

/* STEP 6 CHECK */
async function checkStep6(){
  const input = step6Input.value.trim();
  const h = await sha256(input);
  if(h === "1ca9df921014be9c108e675bb687218fee99c4229fdaa9e7e5c7fcd1c3eddaed"){ 
    unlock("step7");
    document.body.insertAdjacentHTML(
      "beforeend",
      "<p>ðŸŽ‰ Step 6 complete! You unlocked the next part.</p>"
    );
  }
}


  /* STEP 7 CHECK */
async function checkStep7(){
  const input = step7Input.value.trim().toUpperCase();
  const h = await sha256(input);
  if(h === "e632bc0b82b86d1160f355c955d313e2922f7af54348b5d09d53992c77adf46d"){ 
    // unlock next step here, e.g., step8
    document.body.insertAdjacentHTML(
      "beforeend",
      "<p>âœ“ Step 7 complete! You can proceed.</p>"
    );
  }
}
</script>

<!-- https://imgur.com/a/IMGUR_ID -->

</body>
</html>
